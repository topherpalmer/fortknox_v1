{"ast":null,"code":"import { StorageAction } from '@aws-amplify/core/internals/utils';\nimport '@smithy/md5-js';\nimport '@aws-amplify/core/internals/aws-client-utils';\nimport '../../utils/client/runtime/s3TransferHandler/fetch.mjs';\nimport 'fast-xml-parser';\nimport '../../utils/client/runtime/s3TransferHandler/xhr.mjs';\nimport 'buffer';\nimport { resolveS3ConfigAndInput } from '../../utils/resolveS3ConfigAndInput.mjs';\nimport '../../../../errors/types/validation.mjs';\nimport { logger } from '../../../../utils/logger.mjs';\nimport { validateStorageOperationInput } from '../../utils/validateStorageOperationInput.mjs';\nimport { STORAGE_INPUT_KEY } from '../../utils/constants.mjs';\nimport '../../utils/client/base.mjs';\nimport '../../utils/client/getObject.mjs';\nimport '../../utils/client/listObjectsV2.mjs';\nimport '../../utils/client/putObject.mjs';\nimport '../../utils/client/createMultipartUpload.mjs';\nimport '../../utils/client/uploadPart.mjs';\nimport '../../utils/client/completeMultipartUpload.mjs';\nimport '../../utils/client/listParts.mjs';\nimport '../../utils/client/abortMultipartUpload.mjs';\nimport '../../utils/client/copyObject.mjs';\nimport '../../utils/client/headObject.mjs';\nimport { deleteObject } from '../../utils/client/deleteObject.mjs';\nimport { getStorageUserAgentValue } from '../../utils/userAgent.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst remove = async (amplify, input) => {\n  const {\n    options = {}\n  } = input ?? {};\n  const {\n    s3Config,\n    keyPrefix,\n    bucket,\n    identityId\n  } = await resolveS3ConfigAndInput(amplify, options);\n  const {\n    inputType,\n    objectKey\n  } = validateStorageOperationInput(input, identityId);\n  let finalKey;\n  if (inputType === STORAGE_INPUT_KEY) {\n    finalKey = `${keyPrefix}${objectKey}`;\n    logger.debug(`remove \"${objectKey}\" from \"${finalKey}\".`);\n  } else {\n    finalKey = objectKey;\n    logger.debug(`removing object in path \"${finalKey}\"`);\n  }\n  await deleteObject({\n    ...s3Config,\n    userAgentValue: getStorageUserAgentValue(StorageAction.Remove)\n  }, {\n    Bucket: bucket,\n    Key: finalKey\n  });\n  return inputType === STORAGE_INPUT_KEY ? {\n    key: objectKey\n  } : {\n    path: objectKey\n  };\n};\nexport { remove };","map":{"version":3,"names":["remove","amplify","input","options","s3Config","keyPrefix","bucket","identityId","resolveS3ConfigAndInput","inputType","objectKey","validateStorageOperationInput","finalKey","STORAGE_INPUT_KEY","logger","debug","deleteObject","userAgentValue","getStorageUserAgentValue","StorageAction","Remove","Bucket","Key","key","path"],"sources":["/Users/cp/Documents/Documents - Christopherâ€™s MacBook Air/Development/React/fortknox_v1/node_modules/@aws-amplify/storage/src/providers/s3/apis/internal/remove.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { StorageAction } from '@aws-amplify/core/internals/utils';\nimport { resolveS3ConfigAndInput, validateStorageOperationInput, } from '../../utils';\nimport { deleteObject } from '../../utils/client';\nimport { getStorageUserAgentValue } from '../../utils/userAgent';\nimport { logger } from '../../../../utils';\nimport { STORAGE_INPUT_KEY } from '../../utils/constants';\nexport const remove = async (amplify, input) => {\n    const { options = {} } = input ?? {};\n    const { s3Config, keyPrefix, bucket, identityId } = await resolveS3ConfigAndInput(amplify, options);\n    const { inputType, objectKey } = validateStorageOperationInput(input, identityId);\n    let finalKey;\n    if (inputType === STORAGE_INPUT_KEY) {\n        finalKey = `${keyPrefix}${objectKey}`;\n        logger.debug(`remove \"${objectKey}\" from \"${finalKey}\".`);\n    }\n    else {\n        finalKey = objectKey;\n        logger.debug(`removing object in path \"${finalKey}\"`);\n    }\n    await deleteObject({\n        ...s3Config,\n        userAgentValue: getStorageUserAgentValue(StorageAction.Remove),\n    }, {\n        Bucket: bucket,\n        Key: finalKey,\n    });\n    return inputType === STORAGE_INPUT_KEY\n        ? {\n            key: objectKey,\n        }\n        : {\n            path: objectKey,\n        };\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAOY,MAACA,MAAM,GAAG,MAAAA,CAAOC,OAAO,EAAEC,KAAK,KAAK;EAC5C,MAAM;IAAEC,OAAO,GAAG;EAAE,CAAE,GAAGD,KAAK,IAAI,EAAE;EACpC,MAAM;IAAEE,QAAQ;IAAEC,SAAS;IAAEC,MAAM;IAAEC;EAAU,CAAE,GAAG,MAAMC,uBAAuB,CAACP,OAAO,EAAEE,OAAO,CAAC;EACnG,MAAM;IAAEM,SAAS;IAAEC;EAAS,CAAE,GAAGC,6BAA6B,CAACT,KAAK,EAAEK,UAAU,CAAC;EACjF,IAAIK,QAAQ;EACZ,IAAIH,SAAS,KAAKI,iBAAiB,EAAE;IACjCD,QAAQ,GAAI,GAAEP,SAAU,GAAEK,SAAU,EAAC;IACrCI,MAAM,CAACC,KAAK,CAAE,WAAUL,SAAU,WAAUE,QAAS,IAAG,CAAC;EACjE,CAAK,MACI;IACDA,QAAQ,GAAGF,SAAS;IACpBI,MAAM,CAACC,KAAK,CAAE,4BAA2BH,QAAS,GAAE,CAAC;EAC7D;EACI,MAAMI,YAAY,CAAC;IACf,GAAGZ,QAAQ;IACXa,cAAc,EAAEC,wBAAwB,CAACC,aAAa,CAACC,MAAM;EACrE,CAAK,EAAE;IACCC,MAAM,EAAEf,MAAM;IACdgB,GAAG,EAAEV;EACb,CAAK,CAAC;EACF,OAAOH,SAAS,KAAKI,iBAAiB,GAChC;IACEU,GAAG,EAAEb;EACjB,CAAS,GACC;IACEc,IAAI,EAAEd;EAClB,CAAS;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}